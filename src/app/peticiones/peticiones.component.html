<div class="container-fluid">
  <div class="page-header">
    <h1>{{titulo}}</h1>
  </div>
  <form #formPeticiones="ngForm" (submit)="onSubmit()">
    <div class="row">
      <div class="col-lg-12">
        <div class="form-group">
          <label class="label label-primary" for="nombre">Nombre:</label>
          <input class="form-control" name="nombre" type="text" #nombre [(ngModel)]="peticion.nombre" disabled>
        </div>
      </div>
      <div class="">
        <div class="col-lg-6">
          <div class="form-group">
            <label class="label label-primary" for="numero">Número:</label>
            <input class="form-control" name="numero" type="number" #numero [(ngModel)]="peticion.numero" (change)="setNombre()" (keyup)="setNombre()" min="1" required>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group">
          <label class="label label-primary" for="horas">Horas:</label>
          <input class="form-control" name="horas" type="number" min="0.25" max="12" step="0.25" #horas [(ngModel)]="peticion.horas" required>
        </div>
      </div>
      <div class="col-lg-12">
        <div class="form-group">
          <input class="btn btn-success btn-block" type="submit" name="enviar" value="Enviar" [disabled]="!formPeticiones.form.valid">
        </div>
      </div>
    </div>
  </form>
  <!-- Desde aquí la tabla de datos -->
  <hr>
  <div class="table-responsive">
    <table *ngIf="peticiones.length > 0" class="table table-striped table-bordered">
      <tr>
        <th>NUM</th>
        <th>NÚMERO</th>
        <th>NOMBRE</th>
        <th>HORAS</th>
        <!-- (change)="selectAllCheck($event)" -->
        <th>
          <input [checked]="selectAll" (click)="selectAllCheck()" class="form-check-input" type="checkbox">
          <div class="btn-group">
            <button [disabled]="!selectAll" type="button btn-small" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Acciones <span class="caret"></span>
          </button>
            <ul class="dropdown-menu">
              <li (click)="generaRemesa()"><a>Generar remesa</a></li>
              <li role="separator" class="divider"></li>
              <li (click)="deleteAll()"><a>Borrar seleccionados</a></li>
            </ul>
          </div>
        </th>
        <th>
        </th>
        <!--Cabecera para los botones de editar y borrar-->
      </tr>
      <tr *ngFor="let pet of peticiones; let i = index ">
        <td>{{i + 1}}</td>
        <td>{{pet.numero}}</td>
        <td>{{pet.nombre}}</td>
        <td>{{pet.horas}}</td>
        <td><input class="form-check-input check-peticiones" type="checkbox" value="{{i}}"></td>
        <td>
          <button class="btn btn-warning btn-xs" type="button" name="button" (click)="editar($event)" value="{{i}}">Editar</button>
          <button class="btn btn-danger btn-xs" type="button" name="button" (click)="eliminar($event, i, true)" value="{{i}}">Eliminar</button>
        </td>
      </tr>
    </table>
  </div>
  <div class="modal" id="modalModificaciones">
    <div class="modal-dialog">
      <div class="modal-content">
        <app-peticiones-edit (backEvent)="backPeticion($event)" [peticion]="peticionEdit" [nombres]="nombres" [nombre]="nombre"></app-peticiones-edit>
        <div class="container-fluid">
          <input (click)="cerrarModal()" class="btn btn-warning btn-block" type="submit" name="salir" value="Salir">
        </div>
      </div>
    </div>
  </div>
